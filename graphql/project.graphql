input ProjectInput {
    name: String! @rules(apply: ["required", "string", "max:255"])
    description: String @rules(apply: ["string"])
}

type User {
    id: ID!
    name: String!
}

type Project {
    id: ID!
    name: String!
    created_by: User! @belongsTo(relation: "createdBy")
    description: String
    delete_flag: Boolean
}

extend type Query {
        projects: [Project!] @all(scopes: ["deleted"])
        project(id: ID! @eq): Project @find(scopes: ["deleted"])
        @guard(checks: ["auth:api"])
}

extend type Mutation {
    createProject(input: ProjectInput @spread): Project!
        @field(resolver: "ProjectMutation@create")
        @guard(checks: ["auth:api"])

    updateProject(id: ID! @eq, input: ProjectInput @spread): Project!
        @field(resolver: "ProjectMutation@update")
        @guard(checks: ["auth:api"])

    deleteProject(id: ID! @eq): Project!
        @field(resolver: "ProjectMutation@delete")
        @guard(checks: ["auth:api"])
}